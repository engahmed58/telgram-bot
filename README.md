# بوت تلجرام للاشتراك الإجباري في القنوات

## نظرة عامة
هذا البوت مصمم للتحقق من اشتراك المستخدمين في قناة محددة قبل السماح لهم بالتفاعل في المجموعة. يقوم البوت بحذف رسائل المستخدمين غير المشتركين وإرسال تنبيه خاص لهم مع رابط للاشتراك في القناة المطلوبة.

## المميزات
- التحقق التلقائي من اشتراك المستخدمين في القناة المطلوبة
- حذف رسائل المستخدمين غير المشتركين
- إرسال تنبيهات خاصة للمستخدمين مع أزرار للاشتراك
- أوامر للمشرفين لتخصيص إعدادات البوت
- دعم كامل للغة العربية

## متطلبات التشغيل
- Python 3.8 أو أحدث
- مكتبة python-telegram-bot (الإصدار 13.7)
- مكتبة python-dotenv (اختياري، للإعدادات المتقدمة)

## التثبيت والإعداد

### 1. تثبيت المكتبات المطلوبة
```bash
pip install -r requirements.txt
```

### 2. تشغيل البوت
```bash
python bot.py
```

### 3. إعداد البوت في المجموعة
1. أضف البوت إلى المجموعة المستهدفة (@workinegypt9)
2. قم بترقية البوت إلى مشرف مع صلاحيات "حذف الرسائل"
3. استخدم الأمر `/setchannel` في المجموعة لتعيين القناة المطلوبة للاشتراك
4. اختبر البوت بإرسال رسالة في المجموعة من حساب غير مشترك في القناة

## أوامر البوت

### للمستخدمين العاديين
- `/start` - بدء استخدام البوت وعرض معلومات المساعدة

### للمشرفين فقط
- `/setchannel` - تعيين القناة المطلوبة للاشتراك
- `/setmessage [النص]` - تخصيص رسالة التنبيه للمستخدمين غير المشتركين
- `/status` - عرض حالة البوت والإعدادات الحالية

## تخصيص البوت

### تغيير توكن البوت
إذا كنت ترغب في تغيير توكن البوت، قم بتعديل المتغير `token` في دالة `main()` في ملف `bot.py`:

```python
def main() -> None:
    # استخدام التوكن المحدد مباشرة
    token = "YOUR_NEW_TOKEN_HERE"
    
    # باقي الكود...
```

### استخدام متغيرات البيئة (للإعدادات المتقدمة)
لمزيد من الأمان، يمكنك استخدام متغيرات البيئة لتخزين التوكن بدلاً من كتابته مباشرة في الكود:

1. قم بإنشاء ملف `.env` في نفس مجلد البوت:
```
TELEGRAM_TOKEN=YOUR_TOKEN_HERE
```

2. قم بتعديل دالة `main()` في ملف `bot.py`:
```python
from dotenv import load_dotenv

def main() -> None:
    # تحميل متغيرات البيئة
    load_dotenv()
    token = os.environ.get("TELEGRAM_TOKEN")
    
    # باقي الكود...
```

## نشر البوت على الخادم

### استضافة على Render
1. قم بإنشاء حساب على [Render](https://render.com/)
2. انقر على "New" ثم اختر "Web Service"
3. اختر "Build and deploy from a Git repository"
4. قم بربط مستودع GitHub الخاص بك
5. املأ المعلومات التالية:
   - Name: اسم للخدمة (مثل "telegram-subscription-bot")
   - Environment: Python
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `python bot.py`
6. انقر على "Create Web Service"

## استكشاف الأخطاء وإصلاحها
- **البوت لا يحذف الرسائل**: تأكد من أن البوت مشرف في المجموعة مع صلاحية "حذف الرسائل"
- **البوت لا يتحقق من الاشتراك بشكل صحيح**: تأكد من أن البوت عضو في القناة المطلوبة
- **رسائل الخطأ في السجلات**: تحقق من سجلات الخدمة لمعرفة أي أخطاء محتملة

## ملاحظات هامة
- يجب أن يكون البوت مشرفًا في كل من المجموعة والقناة المطلوبة
- لا يمكن للبوت التحقق من الاشتراك في القنوات التي ليس عضوًا فيها
- للقنوات الخاصة، تأكد من استخدام معرف القناة الصحيح

## المساهمة
نرحب بمساهماتكم! إذا كنت ترغب في تحسين هذا البوت، يرجى إنشاء fork للمشروع وتقديم طلب سحب مع تغييراتك.

## الترخيص
هذا المشروع مرخص تحت رخصة MIT.
